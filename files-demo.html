<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Enhanced UBA Files Demo</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/enhanced-files.css" />
    <style>
        body { padding: 20px; font-family: 'Segoe UI', sans-serif; }
        .demo-container { max-width: 1200px; margin: 0 auto; }
        .demo-header { text-align: center; margin-bottom: 40px; }
        .demo-header h1 { color: #667eea; margin-bottom: 10px; }
        .demo-header p { color: #64748b; font-size: 1.1rem; }
        .demo-actions { display: flex; gap: 15px; justify-content: center; margin-bottom: 30px; flex-wrap: wrap; }
        .demo-btn { 
            padding: 12px 24px; 
            border-radius: 8px; 
            border: none; 
            font-weight: 500; 
            cursor: pointer; 
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .demo-btn-primary { background: #667eea; color: white; }
        .demo-btn-primary:hover { background: #5a6fd8; transform: translateY(-1px); }
        .demo-btn-secondary { background: #f3f4f6; color: #374151; }
        .demo-btn-secondary:hover { background: #e5e7eb; }
        .demo-section { 
            background: white; 
            border-radius: 12px; 
            padding: 24px; 
            margin-bottom: 24px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
        }
        .demo-section h3 { 
            margin-top: 0; 
            color: #1e293b; 
            display: flex; 
            align-items: center; 
            gap: 10px;
        }
        .features-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 20px; 
        }
        .feature-card { 
            background: #f8fafe; 
            border: 1px solid #e1e7f5; 
            border-radius: 8px; 
            padding: 20px; 
        }
        .feature-card h4 { 
            margin-top: 0; 
            color: #667eea; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
        }
        .feature-list { 
            list-style: none; 
            padding: 0; 
            margin: 0; 
        }
        .feature-list li { 
            padding: 8px 0; 
            border-bottom: 1px solid #e1e7f5; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
        }
        .feature-list li:last-child { border-bottom: none; }
        .status-badge { 
            padding: 4px 8px; 
            border-radius: 4px; 
            font-size: 0.8rem; 
            font-weight: 500; 
        }
        .status-implemented { background: #d1fae5; color: #059669; }
        .status-new { background: #dbeafe; color: #2563eb; }
        .arabic-text { direction: rtl; text-align: right; font-family: 'Arial', sans-serif; }
        .mock-files-demo { 
            background: #f8fafe; 
            border: 2px dashed #e1e7f5; 
            border-radius: 8px; 
            padding: 20px; 
            text-align: center; 
            margin: 20px 0;
        }
        .storage-demo { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .storage-bar { 
            background: rgba(255,255,255,0.2); 
            height: 8px; 
            border-radius: 4px; 
            overflow: hidden; 
            margin: 10px 0; 
        }
        .storage-fill { 
            background: white; 
            height: 100%; 
            width: 67%; 
            border-radius: 4px; 
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ğŸ“ Enhanced UBA File Manager Demo</h1>
            <p>Professional file management with storage control, folder organization, and instant previews</p>
            <p class="arabic-text">Ø¥Ø¯Ø§Ø±Ø© Ù…Ù„ÙØ§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¹ ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙÙˆØ±ÙŠØ©</p>
        </div>

        <div class="demo-actions">
            <button class="demo-btn demo-btn-primary" onclick="openFilesPage()">
                ğŸ“ Open File Manager
            </button>
            <button class="demo-btn demo-btn-secondary" onclick="showStorageDemo()">
                ğŸ’¾ Storage Management Demo
            </button>
            <button class="demo-btn demo-btn-secondary" onclick="showPreviewDemo()">
                ğŸ‘ï¸ Preview System Demo
            </button>
            <button class="demo-btn demo-btn-secondary" onclick="showFoldersDemo()">
                ğŸ“‚ Folder Structure Demo
            </button>
        </div>

        <div class="demo-section">
            <h3>âœ¨ Enhanced Features Overview</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>ğŸ—‚ï¸ LocalStorage-Safe File Indexing</h4>
                    <ul class="feature-list">
                        <li>âœ… Safe file data validation</li>
                        <li>âœ… Automatic corruption recovery</li>
                        <li>âœ… Efficient metadata indexing</li>
                        <li>âœ… Date handling fix for invalid dates</li>
                        <li>âœ… Chunked storage for large files</li>
                        <li>âœ… Error handling with user feedback</li>
                    </ul>
                    <span class="status-badge status-implemented">Implemented</span>
                </div>
                
                <div class="feature-card">
                    <h4>ğŸ“ Folder Structure System</h4>
                    <ul class="feature-list">
                        <li>ğŸ“‚ Auto-organized by file type</li>
                        <li>ğŸ“ Create custom folders</li>
                        <li>ğŸ—‚ï¸ Hierarchical organization</li>
                        <li>ğŸ“Š File counts per folder</li>
                        <li>ğŸ·ï¸ Folder icons and colors</li>
                        <li>ğŸ“‹ Move files between folders</li>
                    </ul>
                    <span class="status-badge status-implemented">Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>ğŸ‘ï¸ File Preview System</h4>
                    <ul class="feature-list">
                        <li>ğŸ–¼ï¸ Image preview (JPG, PNG, GIF, SVG)</li>
                        <li>ğŸ“„ PDF preview with iframe</li>
                        <li>ğŸ“ Text file preview (TXT, MD, JSON)</li>
                        <li>ğŸ¥ Video preview (MP4, WebM)</li>
                        <li>ğŸµ Audio preview (MP3, WAV)</li>
                        <li>ğŸ“Š Detailed file information</li>
                    </ul>
                    <span class="status-badge status-implemented">Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>ğŸ’¾ Storage Management</h4>
                    <ul class="feature-list">
                        <li>ğŸ“Š Real-time storage usage tracking</li>
                        <li>âš–ï¸ Configurable storage limits</li>
                        <li>ğŸ“ˆ Visual progress indicators</li>
                        <li>ğŸ—‘ï¸ Storage cleanup tools</li>
                        <li>âš ï¸ Quota warnings and management</li>
                        <li>ğŸ“‹ Largest files identification</li>
                    </ul>
                    <span class="status-badge status-implemented">Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>ğŸ”§ Technical Enhancements</h4>
                    <ul class="feature-list">
                        <li>âœ… Fixed invalid date handling</li>
                        <li>ğŸ”„ Enhanced drag & drop</li>
                        <li>ğŸ“± Mobile responsive design</li>
                        <li>ğŸŒ Arabic RTL support</li>
                        <li>âš¡ Optimized performance</li>
                        <li>ğŸ›¡ï¸ Error recovery mechanisms</li>
                    </ul>
                    <span class="status-badge status-implemented">Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>ğŸ¨ User Experience</h4>
                    <ul class="feature-list">
                        <li>ğŸ¯ Professional modal design</li>
                        <li>ğŸ“Š Enhanced file table layout</li>
                        <li>ğŸ” Advanced search and filtering</li>
                        <li>ğŸ“‹ Bulk operations support</li>
                        <li>ğŸª Interactive notifications</li>
                        <li>ğŸŒŸ Smooth animations</li>
                    </ul>
                    <span class="status-badge status-implemented">Implemented</span>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>ğŸ’¾ Storage Management Demo</h3>
            <div class="storage-demo">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h4 style="margin: 0;">Storage Usage</h4>
                    <span style="background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; font-size: 0.9rem;">
                        33.5MB / 50MB
                    </span>
                </div>
                <div class="storage-bar">
                    <div class="storage-fill"></div>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem; margin-top: 10px;">
                    <span>147 files stored</span>
                    <span>16.5MB available</span>
                </div>
                <div style="margin-top: 15px; font-size: 0.9rem; opacity: 0.9;">
                    âš¡ Auto-cleanup â€¢ ğŸ—œï¸ Compression â€¢ âš ï¸ Quota alerts â€¢ ğŸ“Š Usage analytics
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>ğŸ“‚ Folder Organization Demo</h3>
            <div style="background: #f8fafe; border-radius: 8px; padding: 20px; border: 1px solid #e1e7f5;">
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 20px;">
                    <div style="background: white; border-radius: 6px; padding: 16px; border: 1px solid #e1e7f5;">
                        <h4 style="margin-top: 0; color: #667eea;">ğŸ“ Folders</h4>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center; gap: 8px; padding: 6px; background: #667eea; color: white; border-radius: 4px;">
                                <span>ğŸ“</span> <span>All Files</span> <span style="margin-left: auto; opacity: 0.7;">147</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px; padding: 6px; border-radius: 4px; cursor: pointer;" onmouseover="this.style.background='#e1e7f5'" onmouseout="this.style.background='transparent'">
                                <span>ğŸ“„</span> <span>Documents</span> <span style="margin-left: auto; opacity: 0.7;">89</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px; padding: 6px; border-radius: 4px; cursor: pointer;" onmouseover="this.style.background='#e1e7f5'" onmouseout="this.style.background='transparent'">
                                <span>ğŸ–¼ï¸</span> <span>Images</span> <span style="margin-left: auto; opacity: 0.7;">34</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px; padding: 6px; border-radius: 4px; cursor: pointer;" onmouseover="this.style.background='#e1e7f5'" onmouseout="this.style.background='transparent'">
                                <span>ğŸ¥</span> <span>Videos</span> <span style="margin-left: auto; opacity: 0.7;">12</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px; padding: 6px; border-radius: 4px; cursor: pointer;" onmouseover="this.style.background='#e1e7f5'" onmouseout="this.style.background='transparent'">
                                <span>ğŸ“¦</span> <span>Archives</span> <span style="margin-left: auto; opacity: 0.7;">12</span>
                            </div>
                        </div>
                        <button style="width: 100%; margin-top: 12px; padding: 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer;">
                            â• New Folder
                        </button>
                    </div>
                    <div style="background: white; border-radius: 6px; padding: 16px; border: 1px solid #e1e7f5;">
                        <div style="color: #64748b; text-align: center; padding: 40px;">
                            <div style="font-size: 3rem; margin-bottom: 16px;">ğŸ“</div>
                            <h4>Automatic File Organization</h4>
                            <p>Files are automatically sorted into folders based on their type:</p>
                            <ul style="text-align: left; display: inline-block;">
                                <li>ğŸ“„ Documents: PDF, DOC, XLS, etc.</li>
                                <li>ğŸ–¼ï¸ Images: JPG, PNG, GIF, SVG</li>
                                <li>ğŸ¥ Videos: MP4, AVI, MOV</li>
                                <li>ğŸ“¦ Archives: ZIP, RAR, 7Z</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>ğŸ‘ï¸ File Preview System Demo</h3>
            <div style="background: #f8fafe; border-radius: 8px; padding: 20px; border: 1px solid #e1e7f5;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
                    <div class="preview-demo-card" onclick="showPreviewModal('image')" style="background: white; border-radius: 8px; padding: 16px; border: 1px solid #e1e7f5; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 8px;">ğŸ–¼ï¸</div>
                            <h4 style="margin: 0; color: #667eea;">Image Preview</h4>
                            <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">JPG, PNG, GIF, SVG, WebP</p>
                            <div style="background: #ddd6fe; color: #7c3aed; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; display: inline-block;">
                                Instant Preview
                            </div>
                        </div>
                    </div>
                    
                    <div class="preview-demo-card" onclick="showPreviewModal('pdf')" style="background: white; border-radius: 8px; padding: 16px; border: 1px solid #e1e7f5; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 8px;">ğŸ“„</div>
                            <h4 style="margin: 0; color: #667eea;">PDF Preview</h4>
                            <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">PDF documents</p>
                            <div style="background: #dbeafe; color: #2563eb; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; display: inline-block;">
                                Embedded Viewer
                            </div>
                        </div>
                    </div>
                    
                    <div class="preview-demo-card" onclick="showPreviewModal('text')" style="background: white; border-radius: 8px; padding: 16px; border: 1px solid #e1e7f5; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 8px;">ğŸ“</div>
                            <h4 style="margin: 0; color: #667eea;">Text Preview</h4>
                            <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">TXT, MD, JSON, CSS, JS</p>
                            <div style="background: #f3f4f6; color: #374151; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; display: inline-block;">
                                Syntax Highlighted
                            </div>
                        </div>
                    </div>
                    
                    <div class="preview-demo-card" onclick="showPreviewModal('media')" style="background: white; border-radius: 8px; padding: 16px; border: 1px solid #e1e7f5; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="text-align: center;">
                            <div style="font-size: 2.5rem; margin-bottom: 8px;">ğŸ¥</div>
                            <h4 style="margin: 0; color: #667eea;">Media Preview</h4>
                            <p style="color: #64748b; font-size: 0.9rem; margin: 8px 0;">Video & Audio files</p>
                            <div style="background: #ecfdf5; color: #059669; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; display: inline-block;">
                                Native Player
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; text-align: center; color: #64748b;">
                    <p>Click on any preview type above to see a demonstration</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>ğŸš€ Getting Started</h3>
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; padding: 24px;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div>
                        <h4 style="margin-top: 0; display: flex; align-items: center; gap: 8px;">
                            <span>1ï¸âƒ£</span> Upload Files
                        </h4>
                        <p style="margin: 0; opacity: 0.9; font-size: 0.9rem;">
                            Drag & drop files or click to browse. Auto-organized by type with instant storage tracking.
                        </p>
                    </div>
                    <div>
                        <h4 style="margin-top: 0; display: flex; align-items: center; gap: 8px;">
                            <span>2ï¸âƒ£</span> Organize
                        </h4>
                        <p style="margin: 0; opacity: 0.9; font-size: 0.9rem;">
                            Files automatically sorted into folders. Create custom folders and move files as needed.
                        </p>
                    </div>
                    <div>
                        <h4 style="margin-top: 0; display: flex; align-items: center; gap: 8px;">
                            <span>3ï¸âƒ£</span> Preview & Manage
                        </h4>
                        <p style="margin: 0; opacity: 0.9; font-size: 0.9rem;">
                            Click any file to preview instantly. Download, move, or delete with professional tools.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include enhanced files system -->
    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/store.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="assets/js/enhanced-files.js"></script>

    <script>
        function openFilesPage() {
            window.open('files.html', '_blank');
        }

        function showStorageDemo() {
            alert('ğŸ’¾ Storage Management Features:\n\n' +
                  'â€¢ Real-time usage tracking\n' +
                  'â€¢ Configurable storage limits (10MB-200MB)\n' +
                  'â€¢ Visual progress indicators\n' +
                  'â€¢ Automatic cleanup tools\n' +
                  'â€¢ Quota warnings and management\n' +
                  'â€¢ Largest files identification\n\n' +
                  'Open the File Manager to see it in action!');
        }

        function showPreviewDemo() {
            alert('ğŸ‘ï¸ File Preview System:\n\n' +
                  'âœ¨ Supported Formats:\n' +
                  'â€¢ Images: JPG, PNG, GIF, SVG, WebP, BMP\n' +
                  'â€¢ Documents: PDF with embedded viewer\n' +
                  'â€¢ Text: TXT, MD, JSON, CSS, JS, HTML, XML\n' +
                  'â€¢ Media: MP4, WebM (video), MP3, WAV (audio)\n\n' +
                  'ğŸš€ Features:\n' +
                  'â€¢ Instant preview without download\n' +
                  'â€¢ Professional modal interface\n' +
                  'â€¢ Detailed file information\n' +
                  'â€¢ Mobile responsive design');
        }

        function showFoldersDemo() {
            alert('ğŸ“‚ Folder Organization System:\n\n' +
                  'ğŸ—ï¸ Auto-Organization:\n' +
                  'â€¢ Files sorted by type automatically\n' +
                  'â€¢ Smart folder assignment\n' +
                  'â€¢ Custom folder creation\n\n' +
                  'ğŸ¯ Features:\n' +
                  'â€¢ Hierarchical structure\n' +
                  'â€¢ File counts per folder\n' +
                  'â€¢ Drag & drop file moving\n' +
                  'â€¢ Folder icons and colors\n' +
                  'â€¢ Search within folders');
        }

        function showPreviewModal(type) {
            let content = '';
            switch (type) {
                case 'image':
                    content = 'ğŸ–¼ï¸ Image Preview Demo\n\n' +
                             'Supported formats: JPG, PNG, GIF, SVG, WebP, BMP\n\n' +
                             'Features:\n' +
                             'â€¢ Instant full-size preview\n' +
                             'â€¢ Zoom and pan capabilities\n' +
                             'â€¢ EXIF data display\n' +
                             'â€¢ Download directly from preview';
                    break;
                case 'pdf':
                    content = 'ğŸ“„ PDF Preview Demo\n\n' +
                             'Features:\n' +
                             'â€¢ Embedded PDF viewer\n' +
                             'â€¢ Multi-page navigation\n' +
                             'â€¢ Zoom controls\n' +
                             'â€¢ Print and download options\n' +
                             'â€¢ Mobile-friendly interface';
                    break;
                case 'text':
                    content = 'ğŸ“ Text File Preview Demo\n\n' +
                             'Supported: TXT, MD, JSON, CSS, JS, HTML, XML, CSV\n\n' +
                             'Features:\n' +
                             'â€¢ Syntax highlighting\n' +
                             'â€¢ Line numbers\n' +
                             'â€¢ Search within content\n' +
                             'â€¢ Copy to clipboard';
                    break;
                case 'media':
                    content = 'ğŸ¥ Media Preview Demo\n\n' +
                             'Video: MP4, WebM, OGG\n' +
                             'Audio: MP3, WAV, OGG, AAC\n\n' +
                             'Features:\n' +
                             'â€¢ Native HTML5 player\n' +
                             'â€¢ Full playback controls\n' +
                             'â€¢ Volume control\n' +
                             'â€¢ Timeline scrubbing';
                    break;
            }
            alert(content);
        }

        // Auto-highlight interactive elements
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“ Enhanced Files Demo loaded');
            
            // Add hover effects to demo cards
            const demoCards = document.querySelectorAll('.preview-demo-card');
            demoCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.boxShadow = '0 8px 24px rgba(102, 126, 234, 0.15)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.boxShadow = '';
                });
            });
            
            // Animate storage bar on load
            setTimeout(() => {
                const storageFill = document.querySelector('.storage-fill');
                if (storageFill) {
                    storageFill.style.width = '67%';
                }
            }, 1000);
        });
    </script>
</body>
</html>