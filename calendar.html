<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>UBA Calendar</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/enhanced-calendar.css" />
  </head>
  <body>
    <div id="page-id" data-page="calendar-page">
      <section id="uba-dashboard">
        <div class="uba-shell">
          <aside class="uba-sidebar">
            <div>
              <div class="uba-logo">MHM <span>UBA</span></div>
              <p class="uba-tagline" data-i18n="app.tagline">
                Universal Business Automator — one workspace for clients, tasks,
                invoices and smart tools.
              </p>
              <div class="uba-badge">
                <span class="uba-badge-dot"></span>
                <span data-i18n="app.badge"
                  >Private beta · Built in the Netherlands</span
                >
              </div>
            </div>

            <div class="uba-language">
              <label for="language-select" data-i18n="language.label"
                >Language</label
              >
              <select id="language-select">
                <option value="en" data-i18n="language.en">English</option>
                <option value="ar" data-i18n="language.ar">Arabic</option>
                <option value="nl" data-i18n="language.nl">Dutch</option>
                <option value="fr" data-i18n="language.fr">French</option>
                <option value="es" data-i18n="language.es">Spanish</option>
                <option value="de" data-i18n="language.de">German</option>
              </select>
            </div>

            <div>
              <div class="uba-nav-label" data-i18n="nav.workspaceLabel">
                Workspace
              </div>
              <nav class="uba-nav">
                <a class="uba-nav-btn" href="index.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
                  </span>
                  <span data-i18n="nav.dashboard">Dashboard</span>
                  <small data-i18n="nav.dashboardSub">Overview</small></a
                >
                <a class="uba-nav-btn" href="clients.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                  </span>
                  <span data-i18n="nav.clients">Clients</span>
                  <small data-i18n="nav.clientsSub">CRM</small></a
                >
                <a class="uba-nav-btn" href="projects.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg>
                  </span>
                  <span data-i18n="nav.projects">Projects</span>
                  <small data-i18n="nav.projectsSub">Pipeline</small></a
                >
                <a class="uba-nav-btn" href="tasks.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v6l5.25 3.15.75-1.23-4-2.42V9z"/></svg>
                  </span>
                  <span data-i18n="nav.tasks">Tasks</span>
                  <small data-i18n="nav.tasksSub">Today</small></a
                >
                <a class="uba-nav-btn" href="invoices.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm0 16H5V5h14v14zm-7-2h2v-2h2c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1h-4V7h4v2h2V7c0-.55-.45-1-1-1h-2V4h-2v2h-2c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h4v2H9v-2H7v2c0 .55.45 1 1 1h2v2z"/></svg>
                  </span>
                  <span data-i18n="nav.invoices">Invoices</span>
                  <small data-i18n="nav.invoicesSub">Billing</small></a
                >
                <a class="uba-nav-btn" href="automations.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>
                  </span>
                  <span data-i18n="nav.automations">Automations</span>
                  <small data-i18n="nav.automationsSub">Flows</small></a
                >
                <a class="uba-nav-btn active" href="calendar.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>
                  </span><span>Calendar</span></a
                >
                <a class="uba-nav-btn" href="leads.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                  </span><span>Leads</span></a
                >
                <a class="uba-nav-btn" href="expenses.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>
                  </span><span>Expenses</span></a
                >
                <a class="uba-nav-btn" href="files.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>
                  </span><span>Files</span></a
                >
                <a class="uba-nav-btn" href="reports.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
                  </span><span>Reports</span></a
                >
                <a class="uba-nav-btn" href="smart-tools.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>
                  </span>
                  <span data-i18n="nav.smartTools">UBA Smart Tools</span>
                  <small data-i18n="nav.smartToolsSub">AI ops</small></a
                >
                <a class="uba-nav-btn" href="insights.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/></svg>
                  </span>
                  <span data-i18n="nav.insights">Insights Lab</span>
                  <small data-i18n="nav.insightsSub">Reports</small></a
                >
                <a class="uba-nav-btn" href="help.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/></svg>
                  </span>
                  <span data-i18n="nav.support">Success Desk</span>
                  <small data-i18n="nav.supportSub">Guidance</small></a
                >
                <a class="uba-nav-btn" href="settings.html"
                  ><span class="icon">
                    <svg viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                  </span>
                  <span data-i18n="nav.settings">Settings</span>
                  <small data-i18n="nav.settingsSub">Workspace</small></a
                >
              </nav>
            </div>

            <div class="uba-sidebar-footer" data-i18n="sidebar.footer">
              Designed for small teams and solo founders who are tired of 7
              different tools just to run one business.
            </div>
          </aside>

          <main class="uba-main">
            <header class="uba-topbar">
              <div class="uba-top-left">
                <p class="uba-top-kicker">Calendar view</p>
                <h1 id="uba-view-title">Calendar</h1>
                <p id="uba-view-desc">Monthly overview of tasks, deadlines and events</p>
              </div>
              <div class="uba-top-right">
                <select id="workspace-select" class="uba-select">
                  <option>Main workspace</option>
                </select>
                <div class="uba-user-pill">
                  <span class="uba-avatar"></span
                  ><span id="uba-user-label">Admin</span>
                </div>
              </div>
            </header>

            <div class="uba-views">
              <section class="uba-view" data-view="calendar">
                <div class="calendar-hero">
                  <div class="calendar-hero-copy">
                    <p class="calendar-hero-overline">Schedule intelligence</p>
                    <h2>Plan your studio weeks with confidence</h2>
                    <p>
                      Unified tasks, invoices, and project milestones flow into one handcrafted calendar. Stay ahead of client work,
                      spot risks early, and launch campaigns on time.
                    </p>
                    <div class="calendar-hero-tags">
                      <span>Real-time sync</span>
                      <span>Client-aware</span>
                      <span>Deadline signals</span>
                    </div>
                  </div>
                  <div class="calendar-hero-metrics">
                    <article class="calendar-metric-card">
                      <p>This month</p>
                      <h3 id="calendar-stat-total">0</h3>
                      <small>Linked items scheduled</small>
                    </article>
                    <article class="calendar-metric-card">
                      <p>Next 7 days</p>
                      <h3 id="calendar-stat-week">0</h3>
                      <small>Upcoming touchpoints</small>
                    </article>
                    <article class="calendar-metric-card">
                      <p>Needs attention</p>
                      <h3 id="calendar-stat-overdue">0</h3>
                      <small>Overdue invoices & tasks</small>
                    </article>
                  </div>
                </div>

                <div class="calendar-toolbar">
                  <div class="calendar-toolbar-primary">
                    <div class="calendar-nav-block">
                      <button id="prev-month" class="calendar-nav-btn" aria-label="Previous month">‹</button>
                      <div class="calendar-period">
                        <p class="calendar-period-label">Current period</p>
                        <h2 id="current-month">November 2025</h2>
                      </div>
                      <button id="next-month" class="calendar-nav-btn" aria-label="Next month">›</button>
                    </div>
                    <div class="calendar-view-toggle" role="group" aria-label="Calendar view mode">
                      <button class="calendar-view-btn active" data-calendar-view="month" aria-pressed="true">Month</button>
                      <button class="calendar-view-btn" data-calendar-view="agenda" aria-pressed="false">Agenda</button>
                    </div>
                  </div>
                  <div class="calendar-toolbar-secondary">
                    <label class="calendar-search" for="calendar-search">
                      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.3-4.3"></path>
                      </svg>
                      <input
                        id="calendar-search"
                        type="search"
                        placeholder="Search tasks, invoices, clients..."
                        autocomplete="off"
                      />
                    </label>
                    <div class="calendar-toolbar-actions">
                      <button class="uba-btn uba-btn-secondary" data-panel-action="new-task">New Task</button>
                      <button class="uba-btn uba-btn-secondary" data-panel-action="new-invoice">New Invoice</button>
                    </div>
                  </div>
                </div>

                <div class="calendar-filter-row">
                  <button class="uba-chip calendar-chip active" data-filter="all">All items</button>
                  <button class="uba-chip calendar-chip" data-filter="task">Tasks</button>
                  <button class="uba-chip calendar-chip" data-filter="invoice">Invoices</button>
                  <button class="uba-chip calendar-chip" data-filter="project">Projects</button>
                </div>

                <div class="uba-calendar-container">
                  <div class="uba-calendar-layout">
                    <div class="uba-calendar-surface">
                      <div class="calendar-view-container">
                        <div class="uba-calendar" data-calendar-view="month">
                          <div class="uba-calendar-weekdays">
                            <div class="uba-calendar-weekday">Mon</div>
                            <div class="uba-calendar-weekday">Tue</div>
                            <div class="uba-calendar-weekday">Wed</div>
                            <div class="uba-calendar-weekday">Thu</div>
                            <div class="uba-calendar-weekday">Fri</div>
                            <div class="uba-calendar-weekday">Sat</div>
                            <div class="uba-calendar-weekday">Sun</div>
                          </div>
                          <div id="calendar-grid" class="uba-calendar-grid"></div>
                        </div>
                        <div class="calendar-agenda" id="calendar-agenda" hidden>
                          <div class="calendar-agenda-empty">
                            <p>Agenda view</p>
                            <small>Switch to agenda mode to review upcoming work chronologically.</small>
                          </div>
                        </div>
                      </div>
                    </div>

                    <aside class="uba-calendar-panel" aria-live="polite">
                      <div class="calendar-panel-header">
                        <div>
                          <p class="calendar-panel-label">Selected day</p>
                          <h3 id="calendar-panel-date">Choose a date</h3>
                          <p id="calendar-panel-summary">
                            Click a day in the calendar to view linked tasks, invoices, and project milestones.
                          </p>
                        </div>
                        <div class="calendar-panel-actions">
                          <button class="uba-btn uba-btn-ghost uba-btn-sm" id="calendar-today-btn">Today</button>
                          <button class="uba-btn uba-btn-ghost uba-btn-sm" id="calendar-refresh-btn" title="Refresh events">⟳</button>
                        </div>
                      </div>

                      <div class="calendar-panel-body" id="calendar-day-events">
                        <div class="calendar-empty-state">
                          <p>No date selected yet</p>
                          <small>Select any day to inspect its linked work.</small>
                        </div>
                      </div>

                      <div class="calendar-panel-footer">
                        <button class="uba-btn uba-btn-secondary" data-panel-action="new-task">New Task</button>
                        <button class="uba-btn uba-btn-secondary" data-panel-action="new-invoice">New Invoice</button>
                        <button class="uba-btn uba-btn-ghost" data-panel-action="open-dashboard">Open Dashboard</button>
                      </div>
                    </aside>
                  </div>
                </div>
              </section>
            </div>
          </main>
        </div>
      </section>
    </div>

    
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Supabase Config (if exists) -->
    <script>
      // Try to load config, fail silently if not found
      const script = document.createElement('script');
      script.src = 'supabase-config.js';
      script.onerror = () => console.warn('[Auth] supabase-config.js not found - running in local/demo mode');
      document.head.appendChild(script);
    </script>
    
    <!-- Supabase API Service -->
    <script src="assets/js/supabase-api-service.js"></script>
    
    <!-- Auth Guard (protect this page) -->
    <script src="assets/js/auth-guard.js"></script>
    
    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/store.js"></script>
    <script src="assets/js/data-layer.js"></script>
    <script src="assets/js/calendar-utils.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="assets/js/uba-pages-data.js"></script>
    <script src="assets/js/page-loader.js"></script>
    <script src="assets/js/assistant.js"></script>
    <script src="assets/js/calendar.js"></script>
  </body>
</html>
